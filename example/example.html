<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<script>
    (function () {

        // 得到项目列表
        function getProjectList() {
            var xhr = new XMLHttpRequest();
            xhr.open( "get", "http://localhost:8181/getProjectList", true );
            xhr.send();
            xhr.onreadystatechange = function () {
                if ( xhr.readyState == 4 ) {
                    var data = JSON.parse( xhr.responseText );
                    console.log( xhr.responseText, data );
                }
            };
        }

        // 得到某个项目的未解决err
        function getUnsolvedErr() {
            var xhr = new XMLHttpRequest();
            xhr.open( "get", "http://localhost:8181/getUnsolvedErr?project=chuye", true );
            xhr.send();
            xhr.onreadystatechange = function () {
                if ( xhr.readyState == 4 ) {
                    var data = JSON.parse( xhr.responseText );
                    console.dir( xhr.responseText );
                }
            }
        }

        // 插入一条记录
        function inserOne() {
            var xhr = new XMLHttpRequest();
            xhr.open( "post", "http://localhost:8181/insertOne", true );
            var a = {
                project : "gjqt",
                err : "image 404",
                version : 36
            };
            xhr.send( JSON.stringify( a ) );
            xhr.onreadystatechange = function () {
                if ( xhr.readyState == 4 ) {
                    console.log( xhr.response );
                }
            }
        }


        inserOne();


    })();
</script>
</body>
</html>